(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{DbY9:function(e,t,n){"use strict";n.r(t);var r=n("9HKT"),i=n.n(r),a=n("q1tI"),o=n.n(a),d=n("VIIK");Object(d.b)("html,body{margin:0;padding:0;}video{width:100%;margin:8px 0;}button{background:#4257b8;color:white;font-size:1.5rem;padding:8px 16px;display:flex;justify-content:center;align-items:center;border-radius:3px;border:none;outline:none;}button:hover{filter:brightness(110%);}button:click{border:inset 1px black;}");var c=Object(d.a)("div",{target:"ec1zg7h0"})("display:flex;min-height:100vh;font-size:24px;img{width:32px;}");function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,d=e[Symbol.iterator]();!(r=(o=d.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==d.return||d.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}t.default=function(){var e=Object(a.useRef)(),t=l(Object(a.useState)({loading:!1,decode:null}),2),n=t[0],r=t[1],d=Object(a.useCallback)(function(){r({loading:!0}),i.a.init().then(function(){r({decode:i.a.decode,loading:!1})})},[]);Object(a.useEffect)(function(){navigator.mediaDevices.getUserMedia({video:!0}).then(function(t){e.current.srcObject=t})},[]);var u=n.loading||n.decode;return o.a.createElement(c,null,o.a.createElement("div",null,o.a.createElement("video",{autoPlay:!0,ref:e}),o.a.createElement("button",{type:"button",onClick:u?function(){var t=document.createElement("canvas"),r=e.current;t.width=.25*r.videoWidth,t.height=.25*r.videoHeight,t.getContext("2d").drawImage(r,0,0,t.width,t.height),t.toBlob(function(e){var t=new FileReader;t.addEventListener("loadend",function(){var e=t.result;window.ab=e;var r=n.decode(new Uint8Array(e));console.log(r)}),t.readAsArrayBuffer(e)})}:d,disabled:n.loading},n.loading?"loading wasm file...":n.decode?"Decode current frame!":"Load wasm file")))}}}]);